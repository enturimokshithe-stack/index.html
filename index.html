<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Assignment 4 Combined Version</title>
</head>
<body>
  <h1>Open console and view greetings below</h1>
  <div id="greetings"></div>

  <script>
    // helloSpeaker module
    const helloSpeaker = (function() {
      const speakWord = "Hello";
      function speak(name) {
        const message = `${speakWord} ${name}`;
        console.log(message);
        displayMessage(message);
      }
      return {
        speak: speak
      };
    })();

    // byeSpeaker module
    const byeSpeaker = (function() {
      const speakWord = "Good Bye";
      function speak(name) {
        const message = `${speakWord} ${name}`;
        console.log(message);
        displayMessage(message);
      }
      return {
        speak: speak
      };
    })();

    // Function to display messages on the page
    function displayMessage(message) {
      const container = document.getElementById("greetings");
      const p = document.createElement("p");
      p.textContent = message;
      container.appendChild(p);
    }

    // Main logic wrapped in IIFE
    (function() {
      const names = [
        "Yaakov", "John", "Jen", "Jason",
        "Paul", "Frank", "Larry", "Paula",
        "Laura", "Jim"
      ];

      for (let i = 0; i < names.length; i++) {
        const name = names[i];
        const firstLetter = name.charAt(0).toLowerCase();

        if (firstLetter === 'j') {
          byeSpeaker.speak(name);
        } else {
          helloSpeaker.speak(name);
        }
      }
    })();
  </script>
</body>
</html>
